function _0x90ad(_0x1bd16d,_0x30dc4f){const _0x5e0bd6=_0x5e0b();return _0x90ad=function(_0x90ad96,_0x14d439){_0x90ad96=_0x90ad96-0x78;let _0x4d2bd0=_0x5e0bd6[_0x90ad96];return _0x4d2bd0;},_0x90ad(_0x1bd16d,_0x30dc4f);}const _0x176e46=_0x90ad;(function(_0x3132dc,_0x2a8683){const _0x30b919=_0x90ad,_0x120525=_0x3132dc();while(!![]){try{const _0x174107=parseInt(_0x30b919(0xa9))/0x1*(-parseInt(_0x30b919(0xc1))/0x2)+-parseInt(_0x30b919(0x80))/0x3+parseInt(_0x30b919(0x7d))/0x4*(-parseInt(_0x30b919(0xa1))/0x5)+-parseInt(_0x30b919(0x9f))/0x6*(-parseInt(_0x30b919(0xbd))/0x7)+-parseInt(_0x30b919(0xa5))/0x8*(parseInt(_0x30b919(0xca))/0x9)+parseInt(_0x30b919(0xba))/0xa*(parseInt(_0x30b919(0x92))/0xb)+parseInt(_0x30b919(0xc4))/0xc;if(_0x174107===_0x2a8683)break;else _0x120525['push'](_0x120525['shift']());}catch(_0xa0bf0b){_0x120525['push'](_0x120525['shift']());}}}(_0x5e0b,0x3fdcd));import _0x5bcef8 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';function _0x5e0b(){const _0x32a2b7=['TELEGRAM_APP_HASH','198545CMoLXD','accounts/','Session\x20','onBoarding','1091192CWvyiK','https://app.ton.tsubasa-rivals.com/','TELEGRAM_APP_ID','\x20-\x20Created','17438pbjhAD','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','invoke','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','delay','Old\x20Query\x20:\x20','<empty>\x0a','save','init','storeSession','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','disconnect','session','stringify','accountType','serverAddress','10KDntmr','Please\x20Enter\x20Telegram\x20Query\x20:\x20','agent','7091xHMtri','start','query','initWebView','4aaqJuO','readQueryFile','Query\x20','6995616AwHbMJ','url','queryModificaiton','getEntity','client','Your\x20Account\x20List\x20:\x0a\x20\x0a','18DgMSNQ','peer','sessionCreation','text','info','Invalid\x20input,\x20Please\x20try\x20again','filter','TsubasaRivalsBot','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','getSession','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Resolving\x20Peer','android','error','\x20-\x20Webview\x20Connected','4GDsCac','messages','exit','1040199IwEBLX','bot','queryCreation','/query.txt','\x20|\x20FloodWait\x20','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','seconds','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','accounts','accountName','resetAccounts','indexOf','includes','useSession','proxy','createDir','RequestWebView','10538wDtlrb','\x20|\x20Sleep\x20','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','log','You\x20dont\x20have\x20any\x20Query\x20Account.','getTelegramQuery','warn','Enter\x20your\x20Telegram\x20Password?','saveQueryFile','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','resolvePeer','length','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Nofan\x20Rambe\x20\x0a\x20\x0aLet\x27s\x20Getting\x20Started.\x0a\x20\x0aYour\x20Session\x20List:\x0a','2202wDhIcy'];_0x5e0b=function(){return _0x32a2b7;};return _0x5e0b();}import _0x384cdc from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[_0x176e46(0xb2)];constructor(){const _0x2c0461=_0x176e46;this[_0x2c0461(0x8a)]=_0x2c0461(0x89),this[_0x2c0461(0xc5)]=_0x2c0461(0xa6),this[_0x2c0461(0x81)]=_0x2c0461(0xd1);}async[_0x176e46(0xb1)](){const _0x516b88=_0x176e46;try{await this['onBoarding']();}catch(_0x9da5f1){console['log'](_0x9da5f1),_0x384cdc[_0x516b88(0x7b)](''+JSON[_0x516b88(0xb7)](_0x9da5f1));throw _0x9da5f1;}}async[_0x176e46(0xa4)](){const _0x11c81f=_0x176e46;try{let _0x161cc2=_0x11c81f(0x9e);const _0x2b79e2=Helper[_0x11c81f(0xd3)](_0x11c81f(0x89));if(_0x2b79e2['length']==0x0)_0x161cc2+='<empty>';else for(const _0x45e8d9 of _0x2b79e2){_0x161cc2+='-\x20'+_0x45e8d9+'\x0a';}_0x161cc2+=_0x11c81f(0xaa),_0x161cc2+='\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:';const _0xb6fb7=await _0x5bcef8[_0x11c81f(0xcd)](_0x161cc2);if(_0xb6fb7==0x1)await this['accountType']();else{if(_0xb6fb7==0x2)Helper[_0x11c81f(0x8b)](),await Helper[_0x11c81f(0xad)](0xbb8),await this['onBoarding']();else{if(_0xb6fb7==0x3)Helper['getSession'](this[_0x11c81f(0x8a)])?.[_0x11c81f(0x9d)]==0x0&&(console[_0x11c81f(0xce)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this['onBoarding']());else _0xb6fb7==0x4?await this['queryModificaiton']():(console[_0x11c81f(0x7b)](_0x11c81f(0xcf)),await this['onBoarding']());}}}catch(_0x6bb6dd){throw _0x6bb6dd;}}async[_0x176e46(0xc6)](){const _0x22ae88=_0x176e46;try{const _0x3fd633=Helper[_0x22ae88(0xd3)](_0x22ae88(0x89)),_0x2de62f=_0x3fd633[_0x22ae88(0xd0)](_0xbf17b2=>_0xbf17b2[_0x22ae88(0x8d)](_0x22ae88(0xbf)));let _0x127949=_0x22ae88(0x78);for(const _0xd47150 of _0x2de62f){_0x127949+=_0x3fd633[_0x22ae88(0x8c)](_0xd47150)+0x1+'.\x20'+_0xd47150+'\x0a';}_0x2de62f['length']==0x0?(console[_0x22ae88(0x95)](_0x22ae88(0x96)),await this[_0x22ae88(0xa4)]()):_0x127949+='\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:';const _0x58c4b8=await _0x5bcef8['text'](_0x127949);if(_0x2de62f[_0x58c4b8-0x1]!=undefined){const _0x36eb86=_0x2de62f[_0x58c4b8-0x1];this[_0x22ae88(0x8a)]=_0x22ae88(0xa2)+_0x36eb86;const _0x173c06=_0x22ae88(0xae)+Helper[_0x22ae88(0xc2)](this[_0x22ae88(0x8a)]+_0x22ae88(0x83))+_0x22ae88(0x88),_0x23d630=await _0x5bcef8[_0x22ae88(0xcd)](_0x173c06);await Helper[_0x22ae88(0x9a)](this[_0x22ae88(0x8a)],_0x23d630),await Helper[_0x22ae88(0xad)](0xbb8),await this['onBoarding']();}else console[_0x22ae88(0x7b)](_0x22ae88(0xcf)),await this[_0x22ae88(0xc6)]();}catch(_0x3bed10){throw _0x3bed10;}}async[_0x176e46(0xcc)](){const _0x4ce984=_0x176e46;try{if(Config[_0x4ce984(0xa7)]==undefined||Config[_0x4ce984(0xa0)]==undefined)throw new Error(_0x4ce984(0xac));const _0x234106=Helper['getSession'](_0x4ce984(0x89));let _0x2fc0e1='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x80746b of _0x234106){_0x2fc0e1+=_0x234106[_0x4ce984(0x8c)](_0x80746b)+0x1+'.\x20'+_0x80746b+'\x0a';}_0x234106[_0x4ce984(0x9d)]==0x0?_0x2fc0e1+=_0x4ce984(0x9b):_0x2fc0e1+=_0x4ce984(0x86);const _0x494a83=await _0x5bcef8[_0x4ce984(0xcd)](_0x2fc0e1);this[_0x4ce984(0x8a)]=Helper['createDir']('sessions-'+_0x494a83),await this['useSession'](this[_0x4ce984(0x8a)]),await this[_0x4ce984(0xb5)](),_0x384cdc[_0x4ce984(0xce)]('Session\x20'+this['accountName']+_0x4ce984(0xa8)),console[_0x4ce984(0x95)](_0x4ce984(0xa3)+_0x494a83+_0x4ce984(0xb4)),this['storeSession']['save'](),await Helper['delay'](0xbb8),process[_0x4ce984(0x7f)]();}catch(_0x11aed8){throw _0x11aed8;}}async[_0x176e46(0x82)](){const _0x4a48a7=_0x176e46;try{const _0x55f8d8=Helper[_0x4a48a7(0xd3)](_0x4a48a7(0x89));let _0x45bd8f=_0x4a48a7(0xc9);for(const _0x34e7d5 of _0x55f8d8){_0x45bd8f+=_0x55f8d8['indexOf'](_0x34e7d5)+0x1+'.\x20'+_0x34e7d5+'\x0a';}_0x55f8d8[_0x4a48a7(0x9d)]==0x0?_0x45bd8f+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x45bd8f+=_0x4a48a7(0xb3);const _0x374629=await _0x5bcef8['text'](_0x45bd8f);this[_0x4a48a7(0x8a)]=Helper[_0x4a48a7(0x90)]('query-'+_0x374629);const _0x24685a=await _0x5bcef8[_0x4a48a7(0xcd)](_0x4a48a7(0xbb));await Helper['saveQueryFile'](this['accountName'],_0x24685a),_0x384cdc[_0x4a48a7(0xce)](_0x4a48a7(0xc3)+this[_0x4a48a7(0x8a)]+_0x4a48a7(0xa8)),console['log'](_0x4a48a7(0xc3)+_0x374629+_0x4a48a7(0xb4)),await Helper[_0x4a48a7(0xad)](0xbb8),process['exit']();}catch(_0x305ab0){throw _0x305ab0;}}async[_0x176e46(0xb8)](){const _0x5a5008=_0x176e46;try{const _0x45b7c7=Helper[_0x5a5008(0xd3)](_0x5a5008(0x89));let _0x40b4e0=_0x5a5008(0xc9);if(_0x45b7c7[_0x5a5008(0x9d)]>0x0)for(const _0x1a0b65 of _0x45b7c7){_0x40b4e0+=_0x45b7c7['indexOf'](_0x1a0b65)+0x1+'.\x20'+_0x1a0b65+'\x0a';}else _0x40b4e0+=_0x5a5008(0xaf);_0x40b4e0+=_0x5a5008(0xd2);const _0x21f5ed=await _0x5bcef8[_0x5a5008(0xcd)](_0x40b4e0);if(_0x21f5ed==0x1)await this[_0x5a5008(0xcc)]();else _0x21f5ed==0x2?await this[_0x5a5008(0x82)]():(console[_0x5a5008(0x95)]('Invalid\x20Input'),await this['accountType']());}catch(_0x125257){throw _0x125257;}}async[_0x176e46(0x8e)](_0x1c497f,_0x1c3be7){const _0x1aef58=_0x176e46;try{this[_0x1aef58(0x8f)]=_0x1c3be7;const _0x34fe3d={'connectionRetries':0x5};this['proxy']&&(_0x34fe3d[_0x1aef58(0xbc)]=new HttpsProxyAgent(this[_0x1aef58(0x8f)])),this[_0x1aef58(0xb2)]=new StoreSession(_0x1c497f),this[_0x1aef58(0xc8)]=new TelegramClient(this['storeSession'],Config[_0x1aef58(0xa7)],Config['TELEGRAM_APP_HASH'],_0x34fe3d),this[_0x1aef58(0xb2)][_0x1aef58(0xb0)](),await this['client'][_0x1aef58(0xbe)]({'phoneNumber':async()=>await _0x5bcef8[_0x1aef58(0xcd)](_0x1aef58(0x94)),'password':async()=>await _0x5bcef8[_0x1aef58(0xcd)](_0x1aef58(0x99)),'phoneCode':async()=>await _0x5bcef8[_0x1aef58(0xcd)](_0x1aef58(0x85)),'onError':_0x52abba=>{const _0x1d0d1c=_0x1aef58;console[_0x1d0d1c(0x95)](_0x52abba['message']);}});}catch(_0x1bd483){throw _0x1bd483;}}async[_0x176e46(0x9c)](){const _0x14e322=_0x176e46;try{_0x384cdc[_0x14e322(0xce)]('Session\x20'+this[_0x14e322(0xb6)]+_0x14e322(0x79));while(this[_0x14e322(0xcb)]==undefined){try{this[_0x14e322(0xcb)]=await this[_0x14e322(0xc8)][_0x14e322(0xc7)](this[_0x14e322(0x81)]);break;}catch(_0x2b376d){if(_0x2b376d instanceof FloodWaitError){const _0x1e4e80=_0x2b376d[_0x14e322(0x87)];_0x384cdc[_0x14e322(0x98)](this['client'][_0x14e322(0xb6)][_0x14e322(0xb9)]+_0x14e322(0x84)+_0x2b376d),_0x384cdc['info'](this[_0x14e322(0xc8)][_0x14e322(0xb6)]['serverAddress']+_0x14e322(0x93)+_0x1e4e80+'s'),await Helper[_0x14e322(0xad)]((_0x1e4e80+0x3)*0x3e8);}else throw _0x2b376d;}}}catch(_0x311002){throw _0x311002;}}async[_0x176e46(0xb5)](){const _0x506b1d=_0x176e46;await this[_0x506b1d(0xc8)]['disconnect'](),await this[_0x506b1d(0xc8)]['destroy'](),this[_0x506b1d(0xcb)]=undefined,this[_0x506b1d(0x8a)]=undefined;}async[_0x176e46(0xc0)](){const _0x519de4=_0x176e46;try{const _0x4fbf51=await this['client'][_0x519de4(0xab)](new Api[(_0x519de4(0x7e))][(_0x519de4(0x91))]({'peer':this['peer'],'bot':this[_0x519de4(0xcb)],'fromBotMenu':!![],'url':this[_0x519de4(0xc5)],'platform':_0x519de4(0x7a)}));_0x384cdc[_0x519de4(0xce)]('Session\x20'+this['session']+_0x519de4(0x7c));const _0x53e789=_0x4fbf51[_0x519de4(0xc5)];return Helper[_0x519de4(0x97)](_0x53e789,0x3);}catch(_0x5e305c){throw _0x5e305c;}}}